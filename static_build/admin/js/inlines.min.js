"use strict";var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var a=e.length,i=0;i<a;i++){var s=e[i];if(t.call(n,s,i,e))return{i:i,v:s}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(void 0),$jscomp.polyfill=function(e,t,n,a){if(t){for(n=$jscomp.global,e=e.split("."),a=0;a<e.length-1;a++){var i=e[a];i in n||(n[i]={}),n=n[i]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),function(f){f.fn.formset=function(e){var s=f.extend({},f.fn.formset.defaults,e),t=f(this);e=t.parent();function l(e,t,n){var a=new RegExp("("+t+"-(\\d+|__prefix__))");t=t+"-"+n,f(e).prop("for")&&f(e).prop("for",f(e).prop("for").replace(a,t)),e.id&&(e.id=e.id.replace(a,t)),e.name&&(e.name=e.name.replace(a,t))}var n=f("#id_"+s.prefix+"-TOTAL_FORMS").prop("autocomplete","off"),r=parseInt(n.val(),10),d=f("#id_"+s.prefix+"-MAX_NUM_FORMS").prop("autocomplete","off"),a=""===d.val()||0<d.val()-n.val();if(t.each(function(e){f(this).not("."+s.emptyCssClass).addClass(s.formCssClass)}),t.length&&a){var o=s.addButton;null===o&&(o="TR"===t.prop("tagName")?(t=this.eq(-1).children().length,e.append('<tr class="'+s.addCssClass+'"><td colspan="'+t+'"><a href="#">'+s.addText+"</a></tr>"),e.find("tr:last a")):(t.filter(":last").after('<div class="'+s.addCssClass+'"><a href="#">'+s.addText+"</a></div>"),t.filter(":last").next().find("a"))),o.on("click",function(e){e.preventDefault();var i=(e=f("#"+s.prefix+"-empty")).clone(!0);i.removeClass(s.emptyCssClass).addClass(s.formCssClass).attr("id",s.prefix+"-"+r),i.is("tr")?i.children(":last").append('<div><a class="'+s.deleteCssClass+'" href="#">'+s.deleteText+"</a></div>"):i.is("ul")||i.is("ol")?i.append('<li><a class="'+s.deleteCssClass+'" href="#">'+s.deleteText+"</a></li>"):i.children(":first").append('<span><a class="'+s.deleteCssClass+'" href="#">'+s.deleteText+"</a></span>"),i.find("*").each(function(){l(this,s.prefix,n.val())}),i.insertBefore(f(e)),f(n).val(parseInt(n.val(),10)+1),r+=1,""!==d.val()&&d.val()-n.val()<=0&&o.parent().hide(),i.find("a."+s.deleteCssClass).on("click",function(e){e.preventDefault(),i.remove(),--r,s.removed&&s.removed(i),f(document).trigger("formset:removed",[i,s.prefix]),e=f("."+s.formCssClass),f("#id_"+s.prefix+"-TOTAL_FORMS").val(e.length),(""===d.val()||0<d.val()-e.length)&&o.parent().show();function t(){l(this,s.prefix,a)}var n,a=0;for(n=e.length;a<n;a++)l(f(e).get(a),s.prefix,a),f(e.get(a)).find("*").each(t)}),s.added&&s.added(i),f(document).trigger("formset:added",[i,s.prefix])})}return this},f.fn.formset.defaults={prefix:"form",addText:"add another",deleteText:"remove",addCssClass:"add-row",deleteCssClass:"delete-row",emptyCssClass:"empty-row",formCssClass:"dynamic-form",added:null,removed:null,addButton:null},f.fn.tabularFormset=function(t,e){function n(e){f(t).not(".add-row").removeClass("row1 row2").filter(":even").addClass("row1").end().filter(":odd").addClass("row2")}var a=f(this);return a.formset({prefix:e.prefix,addText:e.addText,formCssClass:"dynamic-"+e.prefix,deleteCssClass:"inline-deletelink",deleteText:e.deleteText,emptyCssClass:"empty-form",removed:n,added:function(e){!function(a){a.find(".prepopulated_field").each(function(){var e=f(this).find("input, select, textarea"),t=e.data("dependency_list")||[],n=[];f.each(t,function(e,t){n.push("#"+a.find(".field-"+t).find("input, select, textarea").attr("id"))}),n.length&&e.prepopulate(n,e.attr("maxlength"))})}(e),"undefined"!=typeof DateTimeShortcuts&&(f(".datetimeshortcuts").remove(),DateTimeShortcuts.init()),"undefined"!=typeof SelectFilter&&(f(".selectfilter").each(function(e,t){e=t.name.split("-"),SelectFilter.init(t.id,e[e.length-1],!1)}),f(".selectfilterstacked").each(function(e,t){e=t.name.split("-"),SelectFilter.init(t.id,e[e.length-1],!0)})),n()},addButton:e.addButton}),a},f.fn.stackedFormset=function(t,e){function n(e){f(t).find(".inline_label").each(function(e){e+=1,f(this).html(f(this).html().replace(/(#\d+)/g,"#"+e))})}var a=f(this);return a.formset({prefix:e.prefix,addText:e.addText,formCssClass:"dynamic-"+e.prefix,deleteCssClass:"inline-deletelink",deleteText:e.deleteText,emptyCssClass:"empty-form",removed:n,added:function(e){!function(a){a.find(".prepopulated_field").each(function(){var e=f(this).find("input, select, textarea"),t=e.data("dependency_list")||[],n=[];f.each(t,function(e,t){n.push("#"+a.find(".form-row .field-"+t).find("input, select, textarea").attr("id"))}),n.length&&e.prepopulate(n,e.attr("maxlength"))})}(e),"undefined"!=typeof DateTimeShortcuts&&(f(".datetimeshortcuts").remove(),DateTimeShortcuts.init()),"undefined"!=typeof SelectFilter&&(f(".selectfilter").each(function(e,t){e=t.name.split("-"),SelectFilter.init(t.id,e[e.length-1],!1)}),f(".selectfilterstacked").each(function(e,t){e=t.name.split("-"),SelectFilter.init(t.id,e[e.length-1],!0)})),n()},addButton:e.addButton}),a},f(document).ready(function(){f(".js-inline-admin-formset").each(function(){var e=f(this).data(),t=e.inlineFormset;switch(e.inlineType){case"stacked":e=t.name+"-group .inline-related",f(e).stackedFormset(e,t.options);break;case"tabular":e=t.name+"-group .tabular.inline-related tbody:first > tr",f(e).tabularFormset(e,t.options)}})})}(django.jQuery);