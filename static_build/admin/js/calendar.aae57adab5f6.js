"use strict";!function(){var k={monthsOfYear:[gettext("January"),gettext("February"),gettext("March"),gettext("April"),gettext("May"),gettext("June"),gettext("July"),gettext("August"),gettext("September"),gettext("October"),gettext("November"),gettext("December")],daysOfWeek:[pgettext("one letter Sunday","S"),pgettext("one letter Monday","M"),pgettext("one letter Tuesday","T"),pgettext("one letter Wednesday","W"),pgettext("one letter Thursday","T"),pgettext("one letter Friday","F"),pgettext("one letter Saturday","S")],firstDayOfWeek:parseInt(get_format("FIRST_DAY_OF_WEEK")),isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return 1===t||3===t||5===t||7===t||8===t||10===t||12===t?31:4===t||6===t||9===t||11===t?30:2===t&&k.isLeapYear(e)?29:28},draw:function(t,e,r,n,a){var i=new Date,o=i.getDate(),s=i.getMonth()+1,u=i.getFullYear(),c="",h=!1;void 0!==a&&(h=a.getUTCFullYear()===e&&a.getUTCMonth()+1===t),t=parseInt(t),e=parseInt(e);var d=document.getElementById(r);removeChildren(d);var l=document.createElement("table");quickElement("caption",l,k.monthsOfYear[t-1]+" "+e);for(var g=quickElement("tbody",l),f=quickElement("tr",g),y=0;y<7;y++)quickElement("th",f,k.daysOfWeek[(y+k.firstDayOfWeek)%7]);var m=new Date(e,t-1,1-k.firstDayOfWeek).getDay(),x=k.getDaysInMonth(t,e);for(f=quickElement("tr",g),y=0;y<m;y++)quickElement("td",f," ").className="nonday";function p(e,r){return function(t){t.preventDefault(),n(e,r,this.textContent)}}var w=1;for(y=m;w<=x;y++){y%7==0&&1!==w&&(f=quickElement("tr",g)),c=w===o&&t===s&&e===u?"today":"",h&&w===a.getUTCDate()&&(""!==c&&(c+=" "),c+="selected");var M=quickElement("td",f,"","class",c);quickElement("a",M,w,"href","#").addEventListener("click",p(e,t)),w++}for(;f.childNodes.length<7;)quickElement("td",f," ").className="nonday";d.appendChild(l)}};function t(t,e,r){this.div_id=t,this.callback=e,this.today=new Date,this.currentMonth=this.today.getMonth()+1,this.currentYear=this.today.getFullYear(),void 0!==r&&(this.selected=r)}t.prototype={drawCurrent:function(){k.draw(this.currentMonth,this.currentYear,this.div_id,this.callback,this.selected)},drawDate:function(t,e,r){this.currentMonth=t,this.currentYear=e,r&&(this.selected=r),this.drawCurrent()},drawPreviousMonth:function(){1===this.currentMonth?(this.currentMonth=12,this.currentYear--):this.currentMonth--,this.drawCurrent()},drawNextMonth:function(){12===this.currentMonth?(this.currentMonth=1,this.currentYear++):this.currentMonth++,this.drawCurrent()},drawPreviousYear:function(){this.currentYear--,this.drawCurrent()},drawNextYear:function(){this.currentYear++,this.drawCurrent()}},window.Calendar=t,window.CalendarNamespace=k}();